# 🖥️ دليل نظام Desktop Tracking - مراقبة سطح المكتب

## 📋 نظرة عامة

تم إعداد نظام مراقبة سطح المكتب بالكامل وهو جاهز للاستخدام! 🎉

### ✅ ما تم إنجازه:

1. **بيانات تجريبية** - تم إنشاؤها بنجاح
2. **خادم البيانات** - يعمل على المنفذ 5001
3. **الواجهة الأمامية** - تعمل على المنفذ 3000
4. **محاكي التطبيق المكتبي** - يرسل بيانات مباشرة

---

## 🚀 كيفية الوصول للنظام

### 1. **الموقع الإلكتروني:**
```
http://localhost:3000
```

### 2. **بيانات تسجيل الدخول:**
- **اسم المستخدم:** admin
- **كلمة المرور:** admin123

### 3. **صفحة Desktop Tracking:**
```
http://localhost:3000/me/desktop-tracking
```

---

## 📊 ما ستراه في الصفحة:

### 🔄 **البيانات المباشرة (Real-time):**
- **حالة الاتصال:** متصل/غير متصل
- **وقت العمل الإجمالي:** يتم تحديثه كل 30 ثانية
- **وقت النشاط الفعلي:** النشاط الحقيقي
- **نسبة الإنتاجية:** تحسب تلقائياً
- **آخر نشاط:** يظهر الوقت الحقيقي

### 📈 **الإحصائيات الأسبوعية:**
- **بيانات آخر 7 أيام**
- **مقارنة الأداء اليومي**
- **متوسط ساعات العمل**

### 📸 **لقطات الشاشة:**
- **معرض الصور** من العمل
- **أوقات التقاط الصور**
- **معاينة مباشرة**

---

## 🔧 النظام يعمل الآن!

### **البيانات المرسلة من "التطبيق المكتبي":**
- ✅ تحديث كل 30 ثانية
- ✅ محاكاة نشاط واقعي (85% نشاط)
- ✅ تسجيل ساعات العمل
- ✅ حساب نسبة الإنتاجية
- ✅ محاكاة لقطات الشاشة

### **الموقع يعرض:**
- ✅ البيانات في الوقت الفعلي
- ✅ حالة التطبيق (متصل/غير متصل)
- ✅ إحصائيات تفصيلية
- ✅ واجهة عربية جميلة

---

## 🎯 للاستخدام الحقيقي

### **1. للتطبيق المكتبي الفعلي:**
يمكن استخدام ملف `renderer.js` الموجود كتطبيق Electron حقيقي:

```bash
# تثبيت Electron
npm install -g electron

# تشغيل التطبيق المكتبي
electron .
```

### **2. تعديل إعدادات التطبيق:**
في ملف `desktop-app-simulator.js`:
```javascript
const CONFIG = {
  serverUrl: 'http://localhost:5001',
  credentials: {
    username: 'admin',  // غير هذا لاسم المستخدم الحقيقي
    password: 'admin123' // غير هذا لكلمة المرور الحقيقية
  }
};
```

### **3. إضافة مستخدمين جدد:**
```bash
# في مجلد backend
node backend/create-sample-tracking-data.js
```

---

## 📱 ميزات النظام

### **للموظفين:**
- 👤 **صفحة شخصية** لكل موظف
- 📊 **إحصائيات العمل** اليومية والأسبوعية  
- ⏰ **تسجيل الحضور والانصراف** التلقائي
- 📈 **نسبة الإنتاجية** المحسوبة
- 📸 **مراجعة النشاط** عبر لقطات الشاشة
- 🔔 **إشعارات** عند انقطاع الاتصال

### **للإدارة:**
- 👥 **مراقبة جميع الموظفين**
- 📊 **تقارير شاملة**
- ⚙️ **إعدادات المراقبة**
- 🔒 **أمان عالي** للبيانات

---

## 🛠️ استكشاف الأخطاء

### **المشكلة: لا تظهر بيانات**
**الحل:**
1. تأكد من تشغيل الخادم: `http://localhost:5001/api/health`
2. تحقق من تسجيل الدخول
3. شغل المحاكي: `node desktop-app-simulator.js`

### **المشكلة: حالة "غير متصل"**
**الحل:**
1. تأكد من تشغيل المحاكي
2. تحقق من صحة بيانات تسجيل الدخول
3. راجع السجلات في وحدة التحكم

### **المشكلة: لا تحديث البيانات**
**الحل:**
1. أعد تحميل الصفحة
2. تحقق من اتصال الإنترنت
3. راجع سجلات الخادم

---

## 🔐 الأمان

### **البيانات محمية:**
- 🔑 **JWT Tokens** للمصادقة
- 🛡️ **CORS Protection**
- 🚫 **Rate Limiting** ضد الهجمات
- 🔒 **تشفير كلمات المرور**

### **الخصوصية:**
- 📸 **لقطات الشاشة محمية**
- 👤 **بيانات شخصية للموظف فقط**
- 🚫 **لا يمكن الوصول من خارج الشبكة**

---

## 📞 الدعم التقني

### **لأي مشكلة:**
1. تحقق من سجلات وحدة التحكم
2. أعد تشغيل الخوادم
3. تأكد من اتصال قاعدة البيانات

### **ملفات مهمة:**
- `backend/server.js` - الخادم الرئيسي
- `frontend/src/pages/MePage.jsx` - صفحة الموظف
- `backend/routes/tracking.js` - APIs التتبع
- `desktop-app-simulator.js` - محاكي التطبيق

---

## 🎉 خلاصة

**النظام جاهز وقابل للاستخدام الآن!** 

- ✅ البيانات تُحدث في الوقت الفعلي
- ✅ الواجهة تعمل بشكل مثالي
- ✅ التطبيق المكتبي يرسل البيانات
- ✅ الأمان مطبق بالكامل

**استمتع باستخدام نظام مراقبة سطح المكتب! 🚀** 